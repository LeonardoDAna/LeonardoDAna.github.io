{"version":3,"sources":["webpack:///./src/view/dragBox/index.vue?222d","webpack:///./src/view/dragBox/index.vue?0876","webpack:///src/view/dragBox/index.vue","webpack:///./src/view/dragBox/index.vue?38bf","webpack:///./src/view/dragBox/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_l","item","index","key","staticClass","_v","_s","staticRenderFns","data","dataList","Array","dragSrcEl","mounted","bindDrop","methods","cols","document","querySelectorAll","forEach","call","addDnDHandlers","elem","i","style","top","concat","console","log","onmousedown","handleDragStart","onmousemove","handleDragOver","onmouseup","handleDragLeave","verifyHowManyShow","dataSource","map","e","show","onChange","$message","error","target","classList","add","preventDefault","handleDragEnter","remove","handleDrop","stopPropagation","targetValue","getTargetValue","children","innerHTML","split","targetDomText","chosedDomText","insertArrayValue","handleDragEnd","component"],"mappings":"2IAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAMJ,EAAIM,GAAIN,EAAY,UAAE,SAASO,EAAKC,GAAO,OAAOJ,EAAG,MAAM,CAACK,IAAID,EAAME,YAAY,QAAQ,CAACV,EAAIW,GAAG,IAAIX,EAAIY,GAAGJ,EAAQ,GAAG,UAAS,IACtOK,EAAkB,GCQP,G,oBAAA,CACfC,KAAA,WACA,OACAC,SAAA,IAAAC,MAAA,IACAC,UAAA,OAGAC,QAAA,WACA,KAAAC,YAEAC,QAAA,CACAD,SAAA,WACA,IAAAE,EAAAC,SAAAC,iBAAA,SACA,GAAAC,QAAAC,KAAAJ,EAAA,KAAAK,iBAEAA,eAAA,SAAAC,EAAAC,GACAD,EAAAE,MAAAC,IAAA,GAAAC,OAAA,IAAAH,EAAA,MACAI,QAAAC,IAAAN,EAAAE,MAAAC,IAAA,GAAAF,GACAD,EAAAO,YAAA,KAAAC,gBACAR,EAAAS,YAAA,KAAAC,eACAV,EAAAW,UAAA,KAAAC,iBASAC,kBAAA,WACA,IAAAhC,EAAA,EAIA,OAHA,KAAAiC,WAAAC,KAAA,SAAAC,GACAA,EAAAC,MAAApC,OAEAA,GAAA,IAEAqC,SAAA,SAAAtC,GACAyB,QAAAC,IAAA1B,EAAAqC,MACA,KAAAJ,sBAAAjC,EAAAqC,KACA,KAAAE,SAAAC,MAAA,eAEAxC,EAAAqC,MAAArC,EAAAqC,MAGAT,gBAAA,SAAAQ,GAGA,KAAA1B,UAAA0B,EAAAK,OACAhB,QAAAC,IAAAU,GAMA,KAAA1B,UAAAgC,UAAAC,IAAA,cAEAb,eAAA,SAAAM,GAQA,OAPAA,EAAAQ,gBACAR,EAAAQ,kBAMA,GAEAC,gBAAA,SAAAT,KAGAJ,gBAAA,SAAAI,GACAA,EAAAK,OAAAC,UAAAI,OAAA,cAEAC,WAAA,SAAAX,GAEAA,EAAAY,iBACAZ,EAAAY,kBAEA,KAAAC,YAAA,KAAAC,eACAd,EAAAK,OAAAU,SAAA,GAAAC,UAAAC,MAAA,SAIA,IAAAC,EAAAlB,EAAAK,OAAAW,UACAG,EAAA,KAAA7C,UAAAyC,SAAA,GAAAC,UAMA,OALAE,GAAAC,GAEA,KAAAC,mBAEApB,EAAAK,OAAAC,UAAAI,OAAA,SACA,GAEAW,cAAA,SAAArB,GAEAA,EAAAK,OAAAC,UAAAI,OAAA,YCtGmvB,I,wBCQ/uBY,EAAY,eACd,EACAlE,EACAc,GACA,EACA,KACA,WACA,MAIa,aAAAoD,E","file":"js/chunk-31076d7c.f9def91c.js","sourcesContent":["export * from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/.pnpm/registry.npmmirror.com+sass-loader@8.0.2_sass@1.26.8/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=082897ab&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.dataList),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_vm._v(\" \"+_vm._s(index + 1)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-for=\"(item, index) in dataList\" :key=\"index\" class=\"item\">\r\n      {{ index + 1 }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: new Array(12),\r\n      dragSrcEl: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.bindDrop();\r\n  },\r\n  methods: {\r\n    bindDrop() {\r\n      var cols = document.querySelectorAll(\".item\");\r\n      [].forEach.call(cols, this.addDnDHandlers);\r\n    },\r\n    addDnDHandlers(elem, i) {\r\n      elem.style.top = `${110 * i}px`;\r\n      console.log(elem.style.top, 70 * i);\r\n      elem.onmousedown = this.handleDragStart;\r\n      elem.onmousemove = this.handleDragOver;\r\n      elem.onmouseup = this.handleDragLeave;\r\n      // elem.addEventListener(\"onmousemove\", this.handleDragStart, false);\r\n      // elem.addEventListener(\"onmouseup\", this.handleDragStart, false);\r\n      // elem.addEventListener(\"dragenter\", this.handleDragEnter, false);\r\n      // elem.addEventListener(\"dragover\", this.handleDragOver, false);\r\n      // elem.addEventListener(\"dragleave\", this.handleDragLeave, false);\r\n      // elem.addEventListener(\"drop\", this.handleDrop, false);\r\n      // elem.addEventListener(\"dragend\", this.handleDragEnd, false);\r\n    },\r\n    verifyHowManyShow() {\r\n      let index = 0;\r\n      this.dataSource.map((e) => {\r\n        if (e.show) index++;\r\n      });\r\n      return index >= 12;\r\n    },\r\n    onChange(item) {\r\n      console.log(item.show);\r\n      if (this.verifyHowManyShow() && !item.show) {\r\n        this.$message.error(\"已经超过12个图表了！\");\r\n      } else {\r\n        item.show = !item.show;\r\n      }\r\n    },\r\n    handleDragStart(e) {\r\n      var dragSrcEl = null;\r\n      // Target (this) element is the source node.\r\n      this.dragSrcEl = e.target;\r\n      console.log(e);\r\n      // this.chosedValue = this.getTargetValue(\r\n      //   this.dragSrcEl.children[1].innerHTML.split(\" \")[1]\r\n      // );\r\n      // e.dataTransfer.effectAllowed = \"move\";\r\n      // e.dataTransfer.setData(\"text/html\", this.dragSrcEl.outerHTML);\r\n      this.dragSrcEl.classList.add(\"is-active\");\r\n    },\r\n    handleDragOver(e) {\r\n      if (e.preventDefault) {\r\n        e.preventDefault(); // Necessary. Allows us to drop.\r\n      }\r\n      // console.log(\"over\");\r\n      // e.target.classList.add(\"over\");\r\n      // this.dragSrcEl.classList.add(\"over\");\r\n      // e.dataTransfer.dropEffect = \"move\"; // See the section on the DataTransfer object.\r\n      return false;\r\n    },\r\n    handleDragEnter(e) {\r\n      // this / e.target is the current hover target.\r\n    },\r\n    handleDragLeave(e) {\r\n      e.target.classList.remove(\"is-active\"); // this / e.target is previous target element.\r\n    },\r\n    handleDrop(e) {\r\n      // this/e.target is current target element.\r\n      if (e.stopPropagation) {\r\n        e.stopPropagation(); // Stops some browsers from redirecting.\r\n      }\r\n      this.targetValue = this.getTargetValue(\r\n        e.target.children[1].innerHTML.split(\" \")[1]\r\n      );\r\n      // console.log(e != this.dragSrcEl);\r\n      // Don't do anything if dropping the same column we're dragging.\r\n      let targetDomText = e.target.innerHTML;\r\n      let chosedDomText = this.dragSrcEl.children[1].innerHTML;\r\n      if (targetDomText != chosedDomText) {\r\n        // Set the source column's HTML to the HTML of the column we dropped on.\r\n        this.insertArrayValue();\r\n      }\r\n      e.target.classList.remove(\"over\");\r\n      return false;\r\n    },\r\n    handleDragEnd(e) {\r\n      // this/e.target is the source node.\r\n      e.target.classList.remove(\"over\");\r\n\r\n      /*[].forEach.call(cols, function (col) {\r\n    col.classList.remove('over');\r\n  });*/\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.item {\r\n  width: calc((100% / 3) - 26px);\r\n  height: 50px;\r\n  padding: 20px 0;\r\n  user-select: none;\r\n  position: absolute;\r\n  border-radius: 3px;\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\r\n  background: rgba(104, 103, 103, 0.75);\r\n  transition: background-color 0.1s ease-in-out;\r\n  cursor: grab;\r\n  text-align: center;\r\n\r\n  &.is-active {\r\n    background: rgba(255, 255, 255, 0.9);\r\n    cursor: grabbing;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.pnpm/registry.npmmirror.com+thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.3.0_ocf5rtwbdm3mau6pf6fzkqlwt4/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.pnpm/registry.npmmirror.com+thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.3.0_ocf5rtwbdm3mau6pf6fzkqlwt4/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=082897ab&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=082897ab&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"082897ab\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}