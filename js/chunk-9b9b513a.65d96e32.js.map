{"version":3,"sources":["webpack:///./src/view/canvasSignature/index.vue?5846","webpack:///src/view/canvasSignature/index.vue","webpack:///./src/view/canvasSignature/index.vue?4b1d","webpack:///./src/view/canvasSignature/index.vue","webpack:///./src/view/canvasSignature/index.vue?3e4e"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","directives","name","rawName","value","lineStyle","expression","attrs","domProps","on","$event","changeColorList","e","target","composing","$set","ref","staticClass","cleanCanvas","createImg","imgSrc","staticRenderFns","data","mouseDown","canvasOffSetTop","canvasOffSetLeft","startAxis","ctx","color","weight","methods","$refs","canvasSignature","toDataURL","clearRect","draw","_this","canvasDom","offsetTop","offsetLeft","getContext","addEventListener","event","mousedown","mousemove","mouseup","_","x","clientX","y","clientY","beginPath","moveTo","lineTo","strokeStyle","lineWidth","lineCap","lineJoin","stroke","mounted","component"],"mappings":"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","file":"js/chunk-9b9b513a.65d96e32.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" 字体颜色 \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lineStyle.color),expression:\"lineStyle.color\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lineStyle.color)},on:{\"onchange\":function($event){return _vm.changeColorList(_vm.e)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.lineStyle, \"color\", $event.target.value)}}}),_vm._v(\" 字体粗细 \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lineStyle.weight),expression:\"lineStyle.weight\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lineStyle.weight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.lineStyle, \"weight\", $event.target.value)}}}),_c('br'),_c('canvas',{ref:\"canvasSignature\",staticClass:\"canvasSignature\"}),_c('div',{attrs:{\"id\":\"operation\"}},[_c('p',{attrs:{\"id\":\"position\"}}),_c('button',{attrs:{\"id\":\"clearCanvas\"},on:{\"click\":_vm.cleanCanvas}},[_vm._v(\"清空\")]),_c('button',{attrs:{\"id\":\"success\"},on:{\"click\":_vm.createImg}},[_vm._v(\"生成图片\")])]),_c('img',{attrs:{\"id\":\"canvasImg\",\"src\":_vm.imgSrc,\"alt\":\"生成的图片\",\"width\":\"300\",\"height\":\"150\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 电子签名 -->\r\n  <div>\r\n    字体颜色\r\n    <input\r\n      type=\"text\"\r\n      v-model=\"lineStyle.color\"\r\n      @onchange=\"changeColorList(e)\"\r\n    />\r\n    字体粗细\r\n    <input type=\"text\" v-model=\"lineStyle.weight\" />\r\n    <br />\r\n    <canvas class=\"canvasSignature\" ref=\"canvasSignature\"></canvas>\r\n    <div id=\"operation\">\r\n      <p id=\"position\"></p>\r\n      <button id=\"clearCanvas\" @click=\"cleanCanvas\">清空</button>\r\n      <button id=\"success\" @click=\"createImg\">生成图片</button>\r\n    </div>\r\n\r\n    <img\r\n      id=\"canvasImg\"\r\n      :src=\"imgSrc\"\r\n      alt=\"生成的图片\"\r\n      width=\"300\"\r\n      height=\"150\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"canvasSignature\",\r\n  data() {\r\n    return {\r\n      mouseDown: false,\r\n      canvasOffSetTop: null,\r\n      canvasOffSetLeft: null,\r\n      startAxis: null,\r\n      ctx: \"\",\r\n      imgSrc: null,\r\n      lineStyle: {\r\n        color: \"#000000\",\r\n        weight: 10,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    changeColorList(e) {\r\n      this.lineStyle.color = e;\r\n    },\r\n    // 生成图片\r\n    createImg() {\r\n      //将生成的图片赋给img元素\r\n      this.imgSrc = this.$refs.canvasSignature.toDataURL(\"image/png\");\r\n    },\r\n    // 清空画布\r\n    cleanCanvas() {\r\n      this.ctx.clearRect(0, 0, 300, 200);\r\n    },\r\n    draw() {\r\n      let _ = this;\r\n      let canvasDom = this.$refs.canvasSignature;\r\n      this.canvasOffSetTop = canvasDom.offsetTop;\r\n      this.canvasOffSetLeft = canvasDom.offsetLeft;\r\n      this.ctx = canvasDom.getContext(\"2d\"); // 定义画布\r\n      this.$refs.canvasSignature.addEventListener(\"mousedown\", (event) =>\r\n        this.mousedown(event)\r\n      );\r\n      this.$refs.canvasSignature.addEventListener(\"mousemove\", (event) =>\r\n        this.mousemove(event)\r\n      );\r\n      this.$refs.canvasSignature.addEventListener(\"mouseup\", (event) =>\r\n        this.mouseup(event)\r\n      );\r\n    },\r\n    mousedown(e) {\r\n      let _ = this;\r\n      _.mouseDown = true;\r\n      _.startAxis = {\r\n        x: e.clientX - _.canvasOffSetLeft,\r\n        y: e.clientY - _.canvasOffSetTop,\r\n      };\r\n    },\r\n    mousemove(e) {\r\n      let _ = this;\r\n      if (_.mouseDown) {\r\n        _.ctx.beginPath();\r\n        _.ctx.moveTo(_.startAxis.x, _.startAxis.y);\r\n        _.ctx.lineTo(\r\n          e.clientX - _.canvasOffSetLeft,\r\n          e.clientY - _.canvasOffSetTop\r\n        );\r\n        _.ctx.strokeStyle = _.lineStyle.color;\r\n        _.ctx.lineWidth = _.lineStyle.weight;\r\n        _.ctx.lineCap = \"round\";\r\n        _.ctx.lineJoin = \"round\";\r\n        _.ctx.stroke();\r\n        _.startAxis = {\r\n          x: e.clientX - _.canvasOffSetLeft,\r\n          y: e.clientY - _.canvasOffSetTop,\r\n        };\r\n      }\r\n    },\r\n    mouseup(e) {\r\n      let _ = this;\r\n      _.mouseDown = false;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.draw();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.canvasSignature {\r\n  border: 1px solid #eee;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.pnpm/registry.npmmirror.com+thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.3.0_ocf5rtwbdm3mau6pf6fzkqlwt4/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/.pnpm/registry.npmmirror.com+thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.3.0_ocf5rtwbdm3mau6pf6fzkqlwt4/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=04fb7823&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=04fb7823&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.10.1_xdjepxz3ebzthb3trwr2tgybci/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=04fb7823&prod&lang=css&\""],"sourceRoot":""}